(this.webpackJsonpcoronavirus=this.webpackJsonpcoronavirus||[]).push([[0],{165:function(e,t,n){e.exports=n(350)},170:function(e,t,n){},171:function(e,t,n){},350:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(46),r=n.n(i),c=(n(170),n(51)),d=(n(171),n(172),n(21)),l=n(50),u=function(){var e=o.a.useState({type:"loading"}),t=Object(c.a)(e,2),n=t[0],a=t[1];switch(o.a.useEffect((function(){var e=function(){"loaded"===n.type&&a({type:"loaded",data:n.data,highlighted:n.highlighted,excluded:n.excluded,window_dimensions:window})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}})),o.a.useEffect((function(){fetch("https://covidtracking.com/api/states/daily").then((function(e){return e.json()})).then((function(e){return a({type:"loaded",data:e,excluded:Object(l.c)(),highlighted:null,window_dimensions:window})}),(function(e){return a({type:"error",error:e})}))}),[]),n.type){case"loading":return o.a.createElement("div",null,"Loading...");case"error":return o.a.createElement("div",null,"Error: ",n.error.message);case"loaded":var i=new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"2-digit"}),r=Object(l.a)(n.data).groupBy((function(e){return e.dateChecked})).map((function(e){return e.groupBy((function(e){return e.state})).map((function(e){return e.first()})).map((function(e){return e.positive}))})),u=r.maxBy((function(e,t){return t}));if("undefined"===typeof u)return o.a.createElement("div",null,'Error: "Empty data"');var s=r.entrySeq().map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(l.b)(a).set("date",new Date(n).valueOf())})).toList().sortBy((function(e){return e.get("date")})),m=u.sortBy((function(e,t){return-e})).keySeq().filterNot((function(e){return n.excluded.includes(e)})).toArray(),h=function(e){return n.highlighted===e?"#ff0079":"#00b6c6"},f=function(e){switch(n.highlighted){case e:case null:return 1;default:return.3}},w=window,g=w.innerWidth,v=w.innerHeight;return o.a.createElement("div",null,o.a.createElement("div",{className:"chart"},o.a.createElement(d.b,{width:g,height:v,data:s.toJS(),margin:{top:10,right:10,bottom:10,left:10}},m.map((function(e,t){return o.a.createElement(d.a,{type:"monotone",dataKey:e,stroke:h(e),opacity:f(e),isAnimationActive:!1,onMouseOver:function(e){a({type:"loaded",data:n.data,highlighted:e.dataKey,excluded:n.excluded,window_dimensions:window})},onClick:function(e){a({type:"loaded",data:n.data,highlighted:n.highlighted,excluded:n.excluded.add(e.dataKey),window_dimensions:window})}})})),o.a.createElement(d.d,{dataKey:function(e){var t=i.formatToParts(new Date(e.date)),n=Object(c.a)(t,3),a=n[0].value,o=n[1].value,r=n[2].value;return"".concat(a," ").concat(o," ").concat(r)}}),o.a.createElement(d.d,{dataKey:"name"}),o.a.createElement(d.e,{orientation:"right"}),o.a.createElement(d.c,{isAnimationActive:!1,offset:-200,allowEscapeViewBox:{x:!0}}))),o.a.createElement("div",null,o.a.createElement("div",{className:"title"},o.a.createElement("h1",null,"Coronavirus Cases")),o.a.createElement("div",{className:"instructions"},o.a.createElement("p",null,"Mouse over chart to view data points. Click to remove lines from graphic and resize."," ",n.excluded.isEmpty()?"":"Click on state names to add back to chart.")),o.a.createElement("div",{className:"excluded"},n.excluded.map((function(e){return o.a.createElement("h2",{id:e,onMouseEnter:function(t){var n=document.getElementById(e);null!==n&&(n.style.color="#ff0079")},onMouseLeave:function(t){var n=document.getElementById(e);null!==n&&(n.style.color="#000000")},onClick:function(t){a({type:"loaded",data:n.data,highlighted:n.highlighted,excluded:n.excluded.remove(e),window_dimensions:window})}},e)})))))}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(u,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[165,1,2]]]);
//# sourceMappingURL=main.e458c236.chunk.js.map