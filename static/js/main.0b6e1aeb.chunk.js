(this.webpackJsonpcoronavirus=this.webpackJsonpcoronavirus||[]).push([[0],{66:function(e,t,n){e.exports=n(72)},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(25),i=n.n(o),u=(n(71),n(17)),c=n(1),l=n(3),s=n(4),f=n(26),m=100,d=100;var y=function(e){var t=e.rawData;a.a.useEffect((function(){var e=function(){return E({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var n=a.a.useState(null),r=Object(c.a)(n,2),o=r[0],i=r[1],y=a.a.useState(null),h=Object(c.a)(y,2),v=h[0],x=h[1],p=a.a.useState({width:window.innerWidth,height:window.innerHeight}),b=Object(c.a)(p,2),g=b[0],w=g.width,k=g.height,E=b[1],O=a.a.useState(null),M=Object(c.a)(O,2),j=M[0],S=M[1],B=a.a.useMemo((function(){return Object(s.a)(t).map((function(e){var t=new Date(e.dateChecked).valueOf();return isNaN(t)?null:Object(u.a)({},e,{dateChecked:t})})).filter(f.isPresent)}),[t]),C=a.a.useMemo((function(){return B.groupBy((function(e){return e.state})).map((function(e){return e.groupBy((function(e){return e.dateChecked})).map((function(e){return e.first()})).map((function(e){return e.positive})).toOrderedMap().sortBy((function(e,t){return t}))})).toOrderedMap().sortBy((function(e){return-e.last()}))}),[B]),A=a.a.useState(Object(s.b)(C.keys())),D=Object(c.a)(A,2),z=D[0],L=D[1],W=a.a.useMemo((function(){var e=l.a(B.toArray(),(function(e){return e.dateChecked})),t=Object(c.a)(e,2),n=t[0],r=t[1],a=l.a(B.filter((function(e){return z.has(e.state)})).toArray(),(function(e){return e.positive})),o=Object(c.a)(a,2);return{min:{x:n,y:o[0]},max:{x:r,y:o[1]}}}),[B,z]),q=a.a.useState(null),N=Object(c.a)(q,2),X=N[0],Y=N[1],H=a.a.useMemo((function(){var e=l.a(B.filter((function(e){return z.has(e.state)})).toArray(),(function(e){return e.dateChecked})),t=Object(c.a)(e,2),n=t[0],r=t[1],a=l.a(B.filter((function(e){return z.has(e.state)})).toArray(),(function(e){return e.positive})),o=Object(c.a)(a,2);return{min:{x:n,y:o[0]},max:{x:r,y:o[1]}}}),[B,z]),J=X||H,F=a.a.useMemo((function(){return B.groupBy((function(e){return t=W.min.x,n=e.dateChecked,Math.round((n-t)/864e5);var t,n})).map((function(e){return e.groupBy((function(e){return e.state})).map((function(e){return e.first()})).map((function(e){return e.positive})).toOrderedMap().sort().reverse()})).toOrderedMap().sortBy((function(e){return-e.last()}))}),[B,W]),I=a.a.useMemo((function(){return l.a(F.keySeq().toArray(),(function(e){return e}))}),[F]),P=Object(c.a)(I,2),U=P[0],$=P[1],G=a.a.useMemo((function(){var e=l.c().domain([J.min.x,J.max.x]).range([0,w-m]),t=l.c().domain([J.min.y,J.max.y]).range([k-d,0]),n=l.b().x((function(t){var n=Object(c.a)(t,2),r=n[0];n[1];return e(r)})).y((function(e){var n=Object(c.a)(e,2),r=(n[0],n[1]);return t(r)}));return C.filter((function(e,t){return z.has(t)})).map((function(e,t){var r=t===v,o=Object(s.a)(e.entries()).push([H.max.x,0]).push([H.min.x,0]);return a.a.createElement(a.a.Fragment,{key:t},a.a.createElement("path",{fill:"none",stroke:r?"#ff0079":"none",d:"".concat(n(e.toArray())),opacity:r?.7:.2}),a.a.createElement("path",{fill:"#00b6c6",d:"".concat(n(o.toArray())),opacity:r?.7:.2,onMouseEnter:function(){return x(t)},onMouseLeave:function(){return x((function(e){return e===t?null:e}))},onClick:function(){return L(s.b.of(t))}}))})).toArray()}),[J,v,C,H,k,w,z]),K=null,Q=null;if(null!=o&&o.x<w-m){var R,T=l.b().x((function(e){var t=Object(c.a)(e,2),n=t[0];t[1];return n})).y((function(e){var t=Object(c.a)(e,2);t[0];return t[1]})),V=l.c().domain([0,w-m]).range([U,$]),Z=l.c().domain([U,$]).range([0,w-m]),_=Math.round(V(o.x));K=a.a.createElement("path",{fill:"none",stroke:"black",strokeWidth:.15,d:"".concat(T([[Z(_),0],[Z(_),k]])),style:{pointerEvents:"none"}}),Q=a.a.createElement("text",{style:{fontSize:10,userSelect:"none"}},null===(R=F.get(_))||void 0===R?void 0:R.filter((function(e,t){return z.has(t)})).map((function(e,t){var n=t===v?"#ff0079":"black";return a.a.createElement("tspan",{x:o.x+80<w-m?o.x+30:o.x-60,dy:12,fill:n},t,": ",e)})).valueSeq().toArray())}var ee=a.a.useMemo((function(){return a.a.createElement("text",{style:{fontSize:10,userSelect:"none"}},C.sortBy((function(e,t){return t})).map((function(e,t){var n=z.has(t),r=n?"black":"lightgrey";return a.a.createElement("tspan",{x:10,dy:12.8,fill:r,onClick:function(){L(n?z.delete(t):z.add(t))},onDoubleClick:function(){L(1===z.size&&z.has(t)?Object(s.b)(C.keys()):s.b.of(t)),Y(null)}},t)})).valueSeq().toArray())}),[z,C]),te=null,ne=null;j&&j.to&&(ne={min:{x:Math.min(j.from.x,j.to.x),y:Math.min(j.from.y,j.to.y)},max:{x:Math.max(j.from.x,j.to.x),y:Math.max(j.from.y,j.to.y)}},te=a.a.createElement("svg",{style:{overflow:"visible"}},a.a.createElement("rect",{x:ne.min.x,y:ne.min.y,width:ne.max.x-ne.min.x,height:ne.max.y-ne.min.y,fill:"black",opacity:.3})));var re=l.c().domain([0,w-m]).range([J.min.x,J.max.x]),ae=l.c().domain([0,k-d]).range([J.max.y,J.min.y]);return a.a.createElement("div",null,a.a.createElement("div",{style:{float:"right",width:w,height:0}},te),a.a.createElement("div",{style:{float:"left",width:w-m},onDoubleClick:function(){L(Object(s.b)(C.keys())),Y(null),S(null)},onClick:function(){return S(null)},onMouseLeave:function(){return S(null)},onMouseDown:function(e){S({from:{x:e.pageX,y:e.pageY},to:null})},onMouseMove:function(e){j&&S(Object(u.a)({},j,{to:{x:e.pageX,y:e.pageY}}))},onMouseUp:function(e){j&&ne?(ne.max.x-ne.min.x)*(ne.max.y-ne.min.y)>50&&Y({min:{x:re(ne.min.x),y:ae(ne.max.y)},max:{x:re(ne.max.x),y:ae(ne.min.y)}}):(Y(null),S(null))}},a.a.createElement("svg",{className:"d3-component",viewBox:"".concat([0,0,w-m,k-d]),onMouseMove:function(e){return i({x:e.pageX,y:e.pageY})}},G,K,Q)),a.a.createElement("div",{style:{float:"left",width:m}},a.a.createElement("svg",{style:{overflow:"visible"}},ee)))},h=function(){var e=a.a.useState({type:"loading"}),t=Object(c.a)(e,2),n=t[0],r=t[1];switch(a.a.useEffect((function(){fetch("https://covidtracking.com/api/states/daily").then((function(e){return e.json()})).then((function(e){return r({type:"loaded",rawData:e})}),(function(e){return r({type:"error",error:e})}))}),[]),n.type){case"loading":return a.a.createElement("div",null,"Loading\u2026");case"error":return a.a.createElement("div",null,"Error: ",n.error.message);case"loaded":return a.a.createElement(y,{rawData:n.rawData})}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[66,1,2]]]);
//# sourceMappingURL=main.0b6e1aeb.chunk.js.map